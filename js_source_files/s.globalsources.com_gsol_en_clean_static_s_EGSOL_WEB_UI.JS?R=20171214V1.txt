var egsolUI={version:"1.0"};(function(c){egsolUI.initHover=function(){c(".ui_hover").each(function(){var b=c(this);if(b.data("hasInitedHover")){return true}var a=b.attr("hoverCls");if(a){b.mouseenter(function(){b.addClass(a)}).mouseout(function(g){var h=g.relatedTarget;if(h&&h!=b.get(0)&&!c.contains(b.get(0),h)){b.removeClass(a)}})}b.data("hasInitedHover",true)})};egsolUI.initInputTip=function(){c(".ui_input_tip").each(function(){var a=c(this);if(a.data("hasInitedInputTip")){return true}var b=a.attr("tip");var f=a.attr("tipCls");if(b){if(a.val()==null||a.val()==""){a.val(b);if(f){a.addClass(f)}}a.bind("focus",function(){if(a.val()==b){a.val("");if(f){a.removeClass(f)}}}).bind("blur",function(){if(a.val()==""){a.val(b);if(f){a.addClass(f)}}})}a.data("hasInitedInputTip",true)})};egsolUI.multiInputTips=function(b){var j=b.select,l=b.tips,a=b.input,k=b.tipCls;var i=j.get(0)?j.get(0).selectedIndex:0;j.change(function(){if(a.val()==l[i]){i=j.get(0).selectedIndex;a.val(l[i])}i=j.get(0).selectedIndex});a.mouseenter(function(){if(a.val()==l[i]){a.val("").focus();if(k){a.removeClass(k)}}}).bind("mouseleave blur",function(){if(a.val()==""){if(k){a.addClass(k)}a.val(l[i]).blur()}}).trigger("mouseleave")};function d(E){var H=E.triggerType,a=E.triggerId,M=E.triggerStyle,K=E.targetId;var b=E.posType,J=E.left,y=E.top,B=E.disBodyClick,C=E.isShowed;var z=E.triggerHtml;var N=c("#"+a);var L=c("#"+K);var w=c("body");var x=c(window);var D=c(document);if(z){if(C){N.data("showHtml",N.html());N.data("hideHtml",z)}else{N.data("showHtml",z);N.data("hideHtml",N.html())}}if(b){w.append(L)}if(!J){J=0}if(!y){y=0}if(H=="click"){N.click(function(e){if(L.data("currentTriggerId")&&L.data("currentTriggerId")!=a){I("hide");L.hide();if(M){N.removeClass(M)}if(z){N.html(N.data("hideHtml"))}G("hide")}L.data("currentTriggerId",a);if(M){N.toggleClass(M)}if(L.is(":hidden")){I("show");if(z){N.html(N.data("showHtml"))}}else{I("hide")}F();L.toggle();if(L.is(":hidden")){if(z){N.html(N.data("hideHtml"))}G("hide")}else{G("show")}});if(!B){w.bind("click",function(f){var g=f.target;var e="#"+K+",#"+a;var i=L.data("triggerIds");if(i){for(var h=0;h<i.length;h++){if(g&&g.id==i[h]){return}}e=L.data("idFilterStr")}if(g&&g.id!=K&&g.id!=a&&c(g).parents(e).length==0){I("hide");L.hide();if(M){N.removeClass(M)}if(z){N.html(N.data("hideHtml"))}G("hide")}})}x.resize(function(e){if(L.is(":visible")&&L.data("currentTriggerId")==a){F()}})}else{if(H=="mouseover"){N.mouseenter(function(e){I("show");if(M){N.addClass(M)}if(z){N.html(N.data("showHtml"))}F();L.show();G("show")});c("#"+a+",#"+K).mouseleave(function(e){var f=e.relatedTarget;if(!f||(f&&f.id!=K&&f.id!=a&&c(f).parents("#"+a+",#"+K).length==0)){I("hide");if(M){N.removeClass(M)}L.hide();if(z){N.html(N.data("hideHtml"))}G("hide")}})}}function F(){var j=N.outerHeight();var k=L.outerHeight();var e=N.outerWidth();var g=L.outerWidth();var m=N.offset().top;var l=N.offset().left;var f=(w.css("position").toLowerCase()=="relative")?parseInt(w.css("top")):0;var h=null;if(b=="auto"||b=="auto_center"){var i=(b=="auto_center");h=A(i,j,e,k,g,m,l);var n="posType_"+h+(((J!=0||y!=0)&&i)?"center":"");if(L.attr("current_posType")){L.removeClass(L.attr("current_posType"))}L.addClass(n);L.attr("current_posType",n)}else{h=b}if(h=="manual"){L.css({left:J+"px",top:(y-f)+"px"})}else{if(h=="bottom"){L.css({left:(l+J)+"px",top:(m+j+y-f)+"px"})}else{if(h=="bottom_right"){L.css({left:(l+e-g+J)+"px",top:(m+j+y-f)+"px"})}else{if(h=="top"){L.css({left:(l+J)+"px",top:(m-k+y-f)+"px"})}else{if(h=="top_right"){L.css({left:(l+e-g+J)+"px",top:(m-k+y-f)+"px"})}else{if(h=="left"){L.css({left:(l-g+J)+"px",top:(m+y-f)+"px"})}else{if(h=="left_bottom"){L.css({left:(l-g+J)+"px",top:(m+j-k+y-f)+"px"})}else{if(h=="right"){L.css({left:(l+e+J)+"px",top:(m+y-f)+"px"})}else{if(h=="right_bottom"){L.css({left:(l+e+J)+"px",top:(m+j-k+y-f)+"px"})}else{if(h=="cover"){L.css({left:(l+J)+"px",top:(m+y-f)+"px"})}}}}}}}}}}}function I(e){if(E.beforeHide&&e=="hide"){E.beforeHide(N,L)}if(E.beforeShow&&e=="show"){E.beforeShow(N,L)}}function G(e){if(E.afterHide&&e=="hide"){E.afterHide(N,L)}if(E.afterShow&&e=="show"){E.afterShow(N,L)}}function A(f,m,k,l,h,i,o){var g=x.outerHeight();var n=x.outerWidth();var j=x.scrollTop();var e=x.scrollLeft();if(D.outerHeight()>x.outerHeight()){n=n-20}if(D.outerWidth()>x.outerWidth()){g=g-20}J=0;y=0;if(o-e+k+h<n){if(f&&i-j+l/2+m/2<g&&i-j>l/2-m/2){y=-(l/2-m/2);return"right"}if(i-j>l-m){return"right_bottom"}if(i-j+l<g){return"right"}if(f){y=-(l/2-m/2)}return"right"}if(o-e>h){if(f&&i-j+l/2+m/2<g&&i-j>l/2-m/2){y=-(l/2-m/2);return"left"}if(i-j>l-m){return"left_bottom"}if(i-j+l<g){return"left"}if(f){y=-(l/2-m/2)}return"left"}if(i-j+m+l<g){if(f&&o-e+h/2+k/2<n&&o-e>h/2-k/2){J=-(h/2-k/2);return"bottom"}if(o-e+h<n){return"bottom"}if(o-e>h-k){return"bottom_right"}if(f){J=-(h/2-k/2)}return"bottom"}if(i-j>l){if(f&&o-e+h/2+k/2<n&&o-e>h/2-k/2){J=-(h/2-k/2);return"top"}if(o-e+h<n){return"top"}if(o-e>h-k){return"top_right"}if(f){J=-(h/2-k/2)}return"top"}return"right"}}egsolUI.isMobileDevice=function(){if(/(iphone|ios|android|mini|mobile|mobi|Nokia|Symbian|iPod|iPad|Windows\s+Phone|MQQBrowser|wp7|wp8|UCBrowser7|UCWEB|360\s+Aphone\s+Browser)/i.test(navigator.userAgent)){return true}return false};egsolUI.clickShow=function(a){a.triggerType="click";d(a)};egsolUI.moShow=function(a){if(egsolUI.isMobileDevice()){egsolUI.clickShow(a);return}a.triggerType="mouseover";d(a)};egsolUI.mulClickShow=function(a){var b=a.triggers;a.triggerType="click";var h="#"+a.targetId;var g=new Array();b.each(function(e){if(!this.id||this.id==""){this.id="___UI_trigger"+e+"_"+a.targetId}a.triggerId=this.id;d(a);g[e]=this.id;h=h+",#"+this.id});c("#"+a.targetId).data("triggerIds",g).data("idFilterStr",h)};egsolUI.mulMoShow=function(a){if(egsolUI.isMobileDevice()){egsolUI.mulClickShow(a);return}var b=a.triggers;a.triggerType="mouseover";b.each(function(f){if(!this.id||this.id==""){this.id="___UI_trigger"+f+"_"+a.targetId}a.triggerId=this.id;d(a)})};egsolUI.customSelect=function(p){var l=c("#"+p.triggerId);var q=c("#"+p.targetId);var o=c("#"+p.optTextShowId);var m=c("#"+p.valueInputId);var n=p.optionStyle;var b=p.initValue;var a=q.children();var r=0;a.each(function(f,e){c(e).data("index",f)});if(n){a.mouseenter(function(){a.removeClass(n);c(this).addClass(n)})}a.click(function(f){var e=c(this);if(n){a.removeClass(n);e.addClass(n)}m.attr("value",e.attr("optionVal"));o.html(e.html());r=e.data("index");if(p.triggerStyle){l.removeClass(p.triggerStyle)}q.hide();f.stopPropagation();if(p.onchange){p.onchange(e.attr("optionVal"))}});p.triggerType="click";p.afterHide=function(){if(n){a.removeClass(n);c(a.get(r)).addClass(n)}};d(p);if(b){a.filter('[optionVal="'+b+'"]').click()}else{a.filter(":eq(0)").click()}};egsolUI.showAll=function(r){var p=r.dataUrl;var o=r.trigger;var n=r.triggerStyle;var v=r.triggerHtml;var b=r.displayStyle;if(v){o.data("oldHtml",o.html())}var t=r.listContainer;var u;var q=t.children(":last");var a=null;o.click(function(){var e=c(this);if(e.data("isShowing")){return false}if(!u){u=t.children(":hidden")}if(e.data("isShow")){e.data("isShow",false);if(r.beforeHide){r.beforeHide(o,t)}if(p){a.hide()}else{u.hide()}if(n){o.toggleClass(n)}if(v){e.html(e.data("oldHtml"))}if(r.afterHide){r.afterHide(o,t)}return}else{if(!p||a){if(r.beforeShow){r.beforeShow(o,t)}if(n){o.toggleClass(n)}if(v){e.html(v)}if(p){s(a)}else{s(u)}if(r.afterShow){r.afterShow(o,t)}e.data("isShow",true)}else{if(r.beforeShow){r.beforeShow(o,t)}if(n){o.toggleClass(n)}if(v){e.html(v)}e.data("isShowing",true);c.get(p,function(f){a=c(f);if(q.length<=0){t.append(a)}else{if(q==o||q.find(o).length>0){q.before(a)}else{q.after(a)}}s(a);if(r.afterShow){r.afterShow(o,t)}e.data("isShow",true);e.data("isShowing",false)},"text")}}});function s(e){if(b){e.css("display",b)}else{e.show()}}};egsolUI.initTab=function(){c(".ui_tab_section").each(function(){var b=c(this);if(b.data("hasInitedTab")){return true}var j=c(".ui_tab_tit",b);var k=j.attr("curStyle");var n="mouseover";if(j.attr("trigger")=="click"){n="click"}var l=j.children();var m=c(".ui_tab_con",b);var a=m.children();l.each(function(f,e){c(e).data("index",f)});l.bind(n,function(){var f=c(this);if(k){l.removeClass(k);f.addClass(k)}var e=a.eq(f.data("index"));if(e.data("isLoading")){return true}if(e.attr("data-url")&&!e.data("loaded")){e.data("isLoading",true);c.get(e.attr("data-url"),function(g){e.html(g);a.hide();e.show();e.data("isLoading",false);e.data("loaded",true);e.trigger("UIEvent_Tab_ConLoaded")},"text")}else{a.hide();e.show()}if(b.attr("deferLoad-img")){e.find("img[data-src]").each(function(){var g=c(this);g.attr("src",g.attr("data-src")).removeAttr("data-src")})}});b.data("hasInitedTab",true)})};egsolUI.initScroll=function(){c(".ui_scroll_section").each(function(){var Z=c(this);if(Z.data("hasInitedScroll")){return true}var P=1000;if(Z.attr("speed")){P=parseInt(Z.attr("speed"))}var H=c(".ui_scroll_win",Z);var X=H.height();var E=H.width();var Q=c(".ui_scroll_page",Z);var T=Q.attr("curStyle");var ab="mouseover";if(Q.attr("trigger")=="click"){ab="click"}var ad=Q.children();ad.each(function(f,e){c(e).data("index",f)});Z.on(ab,".ui_scroll_page > *",function(){J(c(this).data("index")+1)});function ac(f){var g=[];for(var e=1;e<=K;e++){g[e-1]=f.replace("%pageNum%",e)}Q.html(g.join(""));ad=Q.children();ad.each(function(i,h){c(h).data("index",i)})}var b=c(".ui_scroll_next",Z);var S=b.attr("disableStyle");var L=c(".ui_scroll_pre",Z);var M=L.attr("disableStyle");var V=c(".ui_scroll_extInfo",Z);var R=V.children();var I=c(".ui_scroll_con",Z);I.css("position","absolute");var a="Y";if(I.attr("scrollType")){a=I.attr("scrollType")}var K=1;var G=0;function O(){if(a=="X"){var e=0;I.children().each(function(){c(this).css({"float":"left"});e=e+c(this).outerWidth(true)});K=Math.ceil(e/E);I.width(E*K+3)}else{var f=0;I.children().each(function(){c(this).css({display:"block"});f=f+c(this).outerHeight(true)});K=Math.ceil(f/X);I.height(X*K)}Z.data("scroll_pageCount",K)}O();function J(f){if(f<1||f>K||f==G){return}var e=-(f-1)*(a=="X"?E:X);G=f;F(f);I.stop(true,false);if(a=="X"){I.animate({left:e},P)}else{I.animate({top:e},P)}}function N(){var e=I.clone().css(a=="X"?{left:-E*(K-1)}:{top:-X*(K-1)}).appendTo(H);I.stop(true,false).css(a=="X"?{left:E}:{top:X});e.animate((a=="X"?{left:-E*K}:{top:-X*K}),P,function(){e.remove()});I.animate((a=="X"?{left:0}:{top:0}),P);G=1;F(1)}function U(){var e=I.clone().css(a=="X"?{left:0}:{top:0}).appendTo(H);I.stop(true,false).css(a=="X"?{left:-E*K}:{top:-X*K});e.animate((a=="X"?{left:E}:{top:X}),P,function(){e.remove()});I.animate((a=="X"?{left:-E*(K-1)}:{top:-X*(K-1)}),P);G=K;F(K)}function F(e){if(T){ad.removeClass(T);c(ad.get(e-1)).addClass(T)}if(S){if(e==K){b.addClass(S)}else{b.removeClass(S)}}if(M){if(e==1){L.addClass(M)}else{L.removeClass(M)}}if(R.length>0){R.hide();c(R.get(e-1)).show()}}b.click(function(){if(W&&G==K){N()}else{J(G+1)}});L.click(function(){if(W&&G==1){U()}else{J(G-1)}});J(1);var W=Z.attr("autoInterval");if(W&&W!="no"&&K!=1){function Y(){clearInterval(Z.data("autoScroller"));Z.data("autoScroller",setInterval(function(){if(G==K){N()}else{J(G+1)}},W))}function aa(){clearInterval(Z.data("autoScroller"))}I.mouseenter(aa);I.mouseleave(Y);Q.mouseenter(aa);Q.mouseleave(Y);b.mouseenter(aa);b.mouseleave(Y);L.mouseenter(aa);L.mouseleave(Y);V.mouseenter(aa);V.mouseleave(Y);Y()}Z.bind("reInitScroll",function(e,f,g,i,h){if(typeof i=="undefined"){i=true}I.html(f);X=H.height();E=H.width();O();if(!(typeof g=="undefined"||""==g)){ac(g)}if(h){Q.html(h);ad=Q.children();ad.each(function(k,j){c(j).data("index",k)})}if(i){G=0;J(1)}});Z.data("hasInitedScroll",true)})};egsolUI.showOverlay=function(u){var q=u.trigger;var v=u.target;var t=u.showAtOnce;if(v.length!=1){return}var x=false;c("body").append(v);var b=c("#ui_overlay_iframe");if(c.support.msie&&(c.support.version.slice(0,3)=="6.0"||document.compatMode=="BackCompat")){v.css("position","absolute");if(c.support.version.slice(0,3)=="6.0"&&b.length<=0){b=c('<iframe id="ui_overlay_iframe"></iframe>');b.css({opacity:"0","z-index":"9999997",position:"absolute",top:"0px",left:"0px",overflow:"hidden"});c("body").append(b);b.hide()}}else{v.css("position","fixed")}var r=c("#ui_overlay_baselay");if(r.length<=0){r=c('<div id="ui_overlay_baselay"></div>');r.css({"background-color":"rgb(102, 102, 102)",opacity:"0.75","z-index":"9999998",position:"fixed",top:"0px",left:"0px",right:"0px",bottom:"0px",display:"none"});c("body").append(r)}var a=function(){b.width(c(document).width()).height(c(document).height());var g=v.outerHeight();var h=v.outerWidth();var e=parseInt((c(window).height()-g)/2)+"px";var f=parseInt((c(window).width()-h)/2)+"px";v.css({top:e,left:f,bottom:"",right:""});v.fixed(true)};var w=c(window);var p=function(e){if(e.keyCode==27){s()}};var o=function(){if(u.beforeShow){u.beforeShow(q,v)}b.show();r.show();v.css({"z-index":"9999999"}).show();if(u.afterShow){u.afterShow(q,v)}w.bind("keydown",p)};var s=function(){if(x){if(u.beforeHide){u.beforeHide(q,v)}v.css({"z-index":""}).hide();r.hide();b.hide();x=false;if(u.afterHide){u.afterHide(q,v)}w.unbind("keydown",p)}};if(q){q.click(function(){if(x){return}x=true;a();o()})}if(!u.disBodyClick){r.click(s)}v.find(".ui_overlay_close").on("click",s);c(window).resize(function(){if(x){a()}});if(t){x=true;a();o()}};egsolUI.LoadBlock=(function(){var a=null;var b=null;if(typeof(JSMsg)=="undefined"){a=c("<div>Elem as a trigger that will not be appended to body.</div>");b=c('<div class="loadBlockContent" style="display:none;">Loading...<input type="hidden" class="ui_overlay_close"/></div>')}else{a=c(JSMsg.uielem);b=c('<div class="loadBlockContent" style="display:none;">'+JSMsg.uiloading+'<input type="hidden" class="ui_overlay_close"/></div>')}egsolUI.showOverlay({trigger:a,target:b,disBodyClick:true});return{show:function(){a.click()},hide:function(){b.find(".ui_overlay_close").click()}}})();egsolUI.initPopupWindow=function(){var a="toolbar=no,menubar=no,status=no,scrollbars=yes,resizable=yes,location=yes";c("a.ui_popup_window").each(function(i){var l=c(this);if(l.data("hasInitedPopupWindow")){return true}var j=l.attr("href");if(!j){return}l.attr("href","javascript:void(0);");var k="popup_window_"+i;var b=l.attr("windowOptions");if(!b){b=a}else{b=a+","+b}l.click(function(){window.open(j,k,b)});l.data("hasInitedPopupWindow",true)})};egsolUI.initPager=function(){c(".ui_pager").each(function(P){var U=c(this);var K=c("#"+U.attr("container"));if(K.length==0){return}var R=K.children();var b=R.length;var F=parseInt(U.attr("perpage"))||10;var O=Math.ceil(b/F);O=O<=0?1:O;var T=0;var N=U.find(".ui_pager_first");var a=U.find(".ui_pager_pre");var H=U.find(".ui_pager_break1").hide();var M=U.find(".ui_pager_links");var D=U.find(".ui_pager_link").clone().removeClass("ui_pager_cur");var B=parseInt(M.attr("maxLinkCnt"))||6;var I=U.find(".ui_pager_break2").hide();var L=U.find(".ui_pager_next");var G=U.find(".ui_pager_cur_num");var S=U.find(".ui_pager_total_num");var E=U.find(".ui_pager_input");var A=U.find(".ui_pager_go");var J=function(){N.html("1").click(function(){if(T>1){C(1)}});S.html(""+O);A.click(function(){var e=parseInt(E.val());if(e){if(e<1){e=1}if(e>O){e=O}E.val(""+e);C(e)}});a.click(function(){if(T>1){C(T-1)}});L.click(function(){if(T<O){C(T+1)}});M.on("click",".ui_pager_link",function(){if(!c(this).hasClass("ui_pager_cur")){C(parseInt(this.innerHTML))}}).html("");C(1)};var C=function(e){if(e<1||e>O||T===e){return}T=e;V();Q((e-1)*F,e*F>=b?b-1:e*F-1)};var Q=function(f,e){R.hide().filter(function(g){return g>=f&&g<=e}).show()};var V=function(){G.html(""+T);var f=T%B==0?B-1:(T%B-1);var i=T%B==0?0:B-T%B;var e=T-f;var g=T+i;if(g>O){g=O}if(T==1){a.addClass("ui_pager_disable")}else{a.removeClass("ui_pager_disable")}if(T==O){L.addClass("ui_pager_disable")}else{L.removeClass("ui_pager_disable")}if(g<O){I.show();S.show();N.hide();H.hide()}else{I.hide();S.hide();if(e>1){H.show();N.show()}else{H.hide();N.hide()}}M.html("");for(var h=e;h<=g;h++){if(h==T){M.append(D.clone().html(""+h).addClass("ui_pager_cur"))}else{M.append(D.clone().html(""+h))}}};J()})};c(function(){egsolUI.initTab();egsolUI.initHover();egsolUI.initInputTip();egsolUI.initScroll();egsolUI.initPopupWindow();egsolUI.initPager()})})(jQuery);(function(d){var f=d(window);function e(o){var m=o.data("t");var n=o.data("l");var p=o.data("b");var l=o.data("r");var a,b;if(m!=undefined){a=f.scrollTop()+m+"px"}else{if(p!=undefined){a=f.height()+f.scrollTop()-o.height()-p+"px"}}if(n!=undefined){b=f.scrollLeft()+n+"px"}else{if(l!=undefined){b=f.width()+f.scrollLeft()-o.width()-l+"px"}}var c;if(a&&b){c={top:a,left:b}}else{if(a){c={top:a}}else{if(b){c={left:b}}}}if(c){o.stop().animate(c,200)}}d.fn.extend({fixed:function(a){if(d.support.msie&&(d.support.version.slice(0,3)=="6.0"||document.compatMode=="BackCompat")){this.each(function(){var b=d(this);if(a){var j=b.css("top");var k=b.css("left");var l=b.css("bottom");var c=b.css("right");if(!isNaN(parseInt(j))){b.data("t",parseInt(j))}if(!isNaN(parseInt(k))){b.data("l",parseInt(k))}if(!isNaN(parseInt(l))){b.data("b",parseInt(l))}if(!isNaN(parseInt(c))){b.data("r",parseInt(c))}e(b)}else{e(b)}if(!b.data("winBind")){b.data("winBind",true);f.scroll(function(){e(b)}).resize(function(){e(b)})}})}}})})(jQuery);