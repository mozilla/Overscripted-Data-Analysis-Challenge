// (c)2013 Giosis Group

$(document).ready(function(){var __ctr_page_type=($("#hid_folder_name").length>0)?$("#hid_folder_name").val():"";if(__ctr_page_type!=""){$("#within_keyword").keydown(function(e){Search.within_keyword_keydown(e);});$("#btn_within_keyword_search").bind("click",function(){Search.searchWithInResult();});$("#cat .key_lst a.del").bind("click",function(){Search.searchWithInResultDelete($(this).attr("data-index"));});$("#btn_category_see_more").click(function(){var txt=$(this).text();$(this).text(txt=="Open"?"Close":"Open");$(this).toggleClass("b_open b_clse").text();});var anchor=(__ctr_page_type=="Search"||__ctr_page_type=="deliveryGroup"||__ctr_page_type=="SMARTSEARCH")?"#anchor_detail_top":"";$("#div_category_list a").bind("click",function(){var kind=$(this).attr("data-kind");var code=$(this).attr("data-code");if(kind=="S"||kind=="M"){Search.searchSCategory(code,anchor);}else if(kind=="L"){Search.searchMCategory(code,anchor);}else if(kind=="A"){Search.searchLCategory(code,anchor);}
return false;});$("#search_category_path a").bind("click",function(){var kind=$(this).attr("data-kind");var code=$(this).attr("data-code");if(kind=="M"){Search.searchMCategory(code,anchor);}else if(kind=="L"){Search.searchLCategory(code,anchor);}else if(kind=="A"){Search.searchInAll();}
return false;});}});var Search={searchWithInResult:function(){Util.setCookie("SearchInflowCheck","SS");var within_keyword=$("#within_keyword").val();if(within_keyword!=""){var keyword_hist_str="";var obj=$("#cat .key_lst li span");for(i=0;i<$(obj).length;i++){keyword_hist_str+=(keyword_hist_str==""?"":"$_q_$")+$(obj).eq(i).html();}
keyword_hist_str+=(keyword_hist_str==""?"":"$_q_$")+within_keyword;$get("keyword_hist").value=keyword_hist_str;getList("1");}else if(within_keyword==""){$get("within_keyword").focus;return false;}},searchWithInResultDelete:function(index){$("#cat .key_lst li").eq(index).remove();var keyword_hist_str="";var obj=$("#cat .key_lst li span");for(i=0;i<$(obj).length;i++){keyword_hist_str+=(keyword_hist_str==""?"":"$_q_$")+$(obj).eq(i).html();}
$get("keyword_hist").value=keyword_hist_str;if(keyword_hist_str==""){$get("hid_keyword").value="";}
getList("1");},within_keyword_keydown:function(winEvent){var charCode;if(!winEvent){winEvent=window.event;charCode=winEvent.keyCode;}
else{charCode=winEvent.which;}
if(charCode==13){winEvent.preventDefault();Search.searchWithInResult();return false;}},searchLCategory:function(cate_cd,anchor){$get("gdlc_cd").value=cate_cd;$get("gdmc_cd").value="";$get("gdsc_cd").value="";getList("1",anchor);},searchMCategory:function(cate_cd,anchor){$get("gdmc_cd").value=cate_cd;$get("gdsc_cd").value="";getList("1",anchor);},searchSCategory:function(cate_cd,anchor){$get("gdsc_cd").value=cate_cd;getList("1",anchor);},searchInAll:function(){$get("gdlc_cd").value="";$get("gdmc_cd").value="";$get("gdsc_cd").value="";getList("1");}}